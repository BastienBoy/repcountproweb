<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
  <style>
    :root{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}
    body{display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;background:#f5f5f7;color:#1d1d1f}
    .card{width:min(400px,90vw);background:#fff;border-radius:18px;box-shadow:0 4px 16px rgba(0,0,0,0.1);padding:32px;text-align:center}
    h1{font-size:24px;margin:0 0 12px;font-weight:600}
    p{margin:0 0 24px;color:#6e6e73;font-size:15px;line-height:1.5}
    .btn{display:block;width:100%;padding:16px;border-radius:12px;background:#007aff;color:#fff;font-weight:600;text-decoration:none;margin-bottom:12px;font-size:16px}
    .btn:active{opacity:0.8}
    .note{margin-top:20px;padding:16px;background:#f5f5f7;border-radius:10px;font-size:13px;color:#86868b;line-height:1.4}
    .icon{font-size:48px;margin-bottom:16px}
  </style>
</head>
<body>
  <div class="card">
    <div class="icon">üì±</div>
    <h1>–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1>
    <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –≤ App Store</p>
    
    <a id="mainBtn" class="btn" href="#">–û—Ç–∫—Ä—ã—Ç—å App Store</a>
    
    <div class="note">
      <strong>–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?</strong><br>
      1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "..." –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É<br>
      2. –í—ã–±–µ—Ä–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å –≤ Safari"<br>
      3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É
    </div>
  </div>

  <script>
    const appId = '6742687397';
    const appStoreUrl = `https://apps.apple.com/app/id${appId}`;
    const deepLink = `itms-apps://apps.apple.com/app/id${appId}`;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –Ω–∞—Ö–æ–¥–∏–º—Å—è –ª–∏ –≤ TikTok WebView
    const isTikTok = /tiktok/i.test(navigator.userAgent);
    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
    
    const btn = document.getElementById('mainBtn');
    
    if (isTikTok && isIOS) {
      // –í TikTok –Ω–∞ iOS - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
      btn.href = appStoreUrl; // –û–±—ã—á–Ω–∞—è HTTPS —Å—Å—ã–ª–∫–∞
      
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        
        // –ü–æ–ø—ã—Ç–∫–∞ 1: Deep link (–º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –≤ TikTok)
        const iframe = document.createElement('iframe');
        iframe.style.display = 'none';
        iframe.src = deepLink;
        document.body.appendChild(iframe);
        
        // –ü–æ–ø—ã—Ç–∫–∞ 2: –û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ (–∑–∞—Å—Ç–∞–≤–∏—Ç TikTok –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å Safari)
        setTimeout(() => {
          window.location.href = appStoreUrl;
        }, 500);
        
        // –ü–æ–ø—ã—Ç–∫–∞ 3: –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –∑–¥–µ—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
        setTimeout(() => {
          alert('–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "..." –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å –≤ Safari"');
        }, 2000);
      });
    } else if (isIOS) {
      // –í –æ–±—ã—á–Ω–æ–º Safari - –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ App Store
      btn.href = appStoreUrl;
    } else {
      // –ù–∞ –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
      btn.href = appStoreUrl;
    }
  </script>
</body>
</html>
